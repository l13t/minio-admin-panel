<!-- Sidebar -->
<nav class="col-md-3 col-lg-2 d-md-block sidebar collapse">
    <div class="position-sticky pt-3">
        <div class="text-center mb-4">
            <i class="fas fa-server logo"></i>
            <span class="logo ms-2">MinIO Admin</span>
        </div>

        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link {{if eq .currentPage " dashboard"}}active{{end}}" href="/dashboard">
                    <i class="fas fa-tachometer-alt me-2"></i>{{t "navigation.dashboard"}}
                </a>
            </li>
            {{if .permissions.canListBuckets}}
            <li class="nav-item">
                <a class="nav-link {{if eq .currentPage " buckets"}}active{{end}}" href="/buckets">
                    <i class="fas fa-database me-2"></i>{{t "navigation.buckets"}}
                </a>
            </li>
            {{end}}
            {{if .permissions.canManageUsers}}
            <li class="nav-item">
                <a class="nav-link {{if eq .currentPage " users"}}active{{end}}" href="/users">
                    <i class="fas fa-users me-2"></i>{{t "navigation.users"}}
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {{if eq .currentPage " groups"}}active{{end}}" href="/groups">
                    <i class="fas fa-layer-group me-2"></i>{{t "navigation.groups"}}
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {{if eq .currentPage " policies"}}active{{end}}" href="/policies">
                    <i class="fas fa-shield-alt me-2"></i>{{t "navigation.policies"}}
                </a>
            </li>
            {{end}}
            {{if .permissions.isAdmin}}
            <li class="nav-item">
                <a class="nav-link {{if eq .currentPage " settings"}}active{{end}}" href="/settings">
                    <i class="fas fa-cogs me-2"></i>{{t "navigation.settings"}}
                </a>
            </li>
            {{end}}
        </ul>

        <!-- User Info -->
        <div class="mt-3 pt-3 border-top border-secondary">
            <div class="text-center text-light">
                <div class="small">{{t "common.logged_in_as"}}:</div>
                <div class="fw-bold">{{.username}}</div>
                <div class="badge bg-primary mt-1">{{.policy_name}}</div>
            </div>
        </div>

        <!-- Language Selector -->
        <div class="mt-3 pt-3 border-top border-secondary">
            <div class="dropdown">
                <button class="btn btn-outline-light btn-sm w-100 dropdown-toggle" type="button" id="languageDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="fas fa-globe me-2"></i>{{t "language.selector.title"}}
                </button>
                <ul class="dropdown-menu w-100" aria-labelledby="languageDropdown">
                    <li>
                        <form action="/set-language" method="POST" class="d-inline w-100">
                            <input type="hidden" name="language" value="en">
                            <button type="submit" class="dropdown-item">
                                <i class="fas fa-flag-usa me-2"></i>{{t "language.english"}}
                            </button>
                        </form>
                    </li>
                    <li>
                        <form action="/set-language" method="POST" class="d-inline w-100">
                            <input type="hidden" name="language" value="uk">
                            <button type="submit" class="dropdown-item">
                                <i class="fas fa-flag me-2"></i>{{t "language.ukrainian"}}
                            </button>
                        </form>
                    </li>
                </ul>
            </div>
        </div>

        <div class="mt-auto pt-4">
            <form action="/logout" method="POST">
                <button type="submit" class="btn btn-outline-light w-100">
                    <i class="fas fa-sign-out-alt me-2"></i>{{t "logout"}}
                </button>
            </form>
        </div>
    </div>
</nav>
